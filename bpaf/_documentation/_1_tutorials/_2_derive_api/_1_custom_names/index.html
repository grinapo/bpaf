<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content=" "><title>bpaf::_documentation::_1_tutorials::_2_derive_api::_1_custom_names - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../../../../" data-static-root-path="../../../../../static.files/" data-current-crate="bpaf" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../bpaf/index.html">bpaf</a><span class="version">0.9.15</span></h2></div><h2 class="location"><a href="#">Module _1_custom_names</a></h2><div class="sidebar-elems"><h2><a href="../index.html">In bpaf::_documentation::_1_tutorials::_2_derive_api</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../../../index.html">bpaf</a>::<wbr><a href="../../../index.html">_documentation</a>::<wbr><a href="../../index.html">_1_tutorials</a>::<wbr><a href="../index.html">_2_derive_api</a>::<wbr><a class="mod" href="#">_1_custom_names</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../../../src/bpaf/_documentation.rs.html#1358">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p> </p>
<table width='100%' cellspacing='0' style='border: hidden;'><tr>
  <td style='width: 33%; text-align: left;'>
<p><a href="../_0_intro/index.html" title="mod bpaf::_documentation::_1_tutorials::_2_derive_api::_0_intro">← Getting started with derive macro</a></p>
  </td>
  <td style='width: 34%; text-align: center;'>
<p><a href="../index.html" title="mod bpaf::_documentation::_1_tutorials::_2_derive_api">↑ Derive API tutorial ↑</a></p>
  </td>
  <td style='width: 33%; text-align: right;'>
<p><a href="../_2_custom_consumers/index.html" title="mod bpaf::_documentation::_1_tutorials::_2_derive_api::_2_custom_consumers">Customizing the consumers →</a></p>
  </td>
</tr></table>
<h5 id="customizing-flag-and-argument-names"><a class="doc-anchor" href="#customizing-flag-and-argument-names">§</a>Customizing flag and argument names</h5>
<p>By default names for flag names are taken directly from the field names so usually you don’t
have to do anything about it, but you can change it with annotations on the fields themselves:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(Debug, Clone, Bpaf)]
#[bpaf(options)]
</span><span class="kw">pub struct </span>Options {
    <span class="doccomment">/// A custom switch
    </span><span class="attr">#[bpaf(short, long)]
    </span>switch: bool,

    <span class="doccomment">/// A custom argument
    </span><span class="attr">#[bpaf(long(<span class="string">"my-argument"</span>), short(<span class="string">'A'</span>))]
    </span>argument: usize,
}

<span class="kw">fn </span>main() {
    <span class="macro">println!</span>(<span class="string">"{:?}"</span>, options().run())
}</code></pre></div>
<details><summary>Output</summary>
<p><code>bpaf</code> uses custom names in help message</p>
<div class='bpaf-doc'>
$ app --help<br>
<p><b>Usage</b>: <tt><b>app</b></tt> [<tt><b>-s</b></tt>] <tt><b>-A</b></tt>=<tt><i>ARG</i></tt></p><p><div>
<b>Available options:</b></div><dl><dt><tt><b>-s</b></tt>, <tt><b>--switch</b></tt></dt>
<dd>A custom switch</dd>
<dt><tt><b>-A</b></tt>, <tt><b>--my-argument</b></tt>=<tt><i>ARG</i></tt></dt>
<dd>A custom argument</dd>
<dt><tt><b>-h</b></tt>, <tt><b>--help</b></tt></dt>
<dd>Prints help information</dd>
</dl>
</p>
<style>
div.bpaf-doc {
    padding: 14px;
    background-color:var(--code-block-background-color);
    font-family: "Source Code Pro", monospace;
    margin-bottom: 0.75em;
}
div.bpaf-doc dt { margin-left: 1em; }
div.bpaf-doc dd { margin-left: 3em; }
div.bpaf-doc dl { margin-top: 0; padding-left: 1em; }
div.bpaf-doc  { padding-left: 1em; }
</style>
</div>
<p>As well as accepts them on a command line and uses in error message</p>
<div class='bpaf-doc'>
$ app --switch<br>
<b>Error:</b> expected <tt><b>--my-argument</b></tt>=<tt><i>ARG</i></tt>, pass <tt><b>--help</b></tt> for usage information
<style>
div.bpaf-doc {
    padding: 14px;
    background-color:var(--code-block-background-color);
    font-family: "Source Code Pro", monospace;
    margin-bottom: 0.75em;
}
div.bpaf-doc dt { margin-left: 1em; }
div.bpaf-doc dd { margin-left: 3em; }
div.bpaf-doc dl { margin-top: 0; padding-left: 1em; }
div.bpaf-doc  { padding-left: 1em; }
</style>
</div>
<div class='bpaf-doc'>
$ app -A 42 -s<br>
Options { switch: true, argument: 42 }
</div>
</details>
<p>Rules for picking the name are:</p>
<ol>
<li>With no annotations field name longer than a single character becomes a long name,
single character name becomes a short name</li>
<li>Adding either <code>long</code> or <code>short</code> disables item 1, so adding <code>short</code> disables the long name</li>
<li><code>long</code> or <code>short</code> annotation without a parameter derives a value from a field name</li>
<li><code>long</code> or <code>short</code> with a parameter uses that instead</li>
<li>You can have multiple <code>long</code> and <code>short</code> annotations, the first of each type becomes a
visible name, remaining are used as hidden aliases</li>
</ol>
<p>And if you decide to add names - they should go to the left side of the annotation list</p>
<p> </p>
<table width='100%' cellspacing='0' style='border: hidden;'><tr>
  <td style='width: 33%; text-align: left;'>
<p><a href="../_0_intro/index.html" title="mod bpaf::_documentation::_1_tutorials::_2_derive_api::_0_intro">← Getting started with derive macro</a></p>
  </td>
  <td style='width: 34%; text-align: center;'>
<p><a href="../index.html" title="mod bpaf::_documentation::_1_tutorials::_2_derive_api">↑ Derive API tutorial ↑</a></p>
  </td>
  <td style='width: 33%; text-align: right;'>
<p><a href="../_2_custom_consumers/index.html" title="mod bpaf::_documentation::_1_tutorials::_2_derive_api::_2_custom_consumers">Customizing the consumers →</a></p>
  </td>
</tr></table>
</div></details></section></div></main></body></html>